"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Validator_1 = global[Symbol.for('ioc.use')]("Adonis/Core/Validator");
class UserStoreValidator {
    constructor(ctx) {
        this.ctx = ctx;
        this.schema = Validator_1.schema.create({
            name: Validator_1.schema.string({}, [
                Validator_1.rules.minLength(3),
                Validator_1.rules.unique({ table: "users", column: "name" }),
            ]),
            email: Validator_1.schema.string({}, [
                Validator_1.rules.email(),
                Validator_1.rules.unique({ table: "users", column: "email" }),
            ]),
        });
        this.messages = {
            "name.minLength": "La taille minimale est de 3 caractères",
            "email.email": "Le format de votre email est incorrect",
            "email.unique": "Ce email existe déja",
            "name.unique": "Ce nom existe déja",
        };
    }
}
exports.default = UserStoreValidator;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXNlclZhbGlkYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlVzZXJWYWxpZGF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwyRUFBMkU7QUFHM0UsTUFBcUIsa0JBQWtCO0lBQ3JDLFlBQXNCLEdBQXdCO1FBQXhCLFFBQUcsR0FBSCxHQUFHLENBQXFCO1FBRXZDLFdBQU0sR0FBRyxrQkFBTSxDQUFDLE1BQU0sQ0FBQztZQUM1QixJQUFJLEVBQUUsa0JBQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFO2dCQUN0QixpQkFBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLGlCQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLENBQUM7YUFDakQsQ0FBQztZQUNGLEtBQUssRUFBRSxrQkFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUU7Z0JBQ3ZCLGlCQUFLLENBQUMsS0FBSyxFQUFFO2dCQUNiLGlCQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLENBQUM7YUFDbEQsQ0FBQztTQUNILENBQUMsQ0FBQztRQUVJLGFBQVEsR0FBbUI7WUFDaEMsZ0JBQWdCLEVBQUUsd0NBQXdDO1lBQzFELGFBQWEsRUFBRSx3Q0FBd0M7WUFDdkQsY0FBYyxFQUFFLHNCQUFzQjtZQUN0QyxhQUFhLEVBQUUsb0JBQW9CO1NBQ3BDLENBQUM7SUFsQitDLENBQUM7Q0FtQm5EO0FBcEJELHFDQW9CQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNjaGVtYSwgQ3VzdG9tTWVzc2FnZXMsIHJ1bGVzIH0gZnJvbSBcIkBpb2M6QWRvbmlzL0NvcmUvVmFsaWRhdG9yXCI7XG5pbXBvcnQgdHlwZSB7IEh0dHBDb250ZXh0Q29udHJhY3QgfSBmcm9tIFwiQGlvYzpBZG9uaXMvQ29yZS9IdHRwQ29udGV4dFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VyU3RvcmVWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgY3R4OiBIdHRwQ29udGV4dENvbnRyYWN0KSB7fVxuXG4gIHB1YmxpYyBzY2hlbWEgPSBzY2hlbWEuY3JlYXRlKHtcbiAgICBuYW1lOiBzY2hlbWEuc3RyaW5nKHt9LCBbXG4gICAgICBydWxlcy5taW5MZW5ndGgoMyksXG4gICAgICBydWxlcy51bmlxdWUoeyB0YWJsZTogXCJ1c2Vyc1wiLCBjb2x1bW46IFwibmFtZVwiIH0pLFxuICAgIF0pLFxuICAgIGVtYWlsOiBzY2hlbWEuc3RyaW5nKHt9LCBbXG4gICAgICBydWxlcy5lbWFpbCgpLFxuICAgICAgcnVsZXMudW5pcXVlKHsgdGFibGU6IFwidXNlcnNcIiwgY29sdW1uOiBcImVtYWlsXCIgfSksXG4gICAgXSksXG4gIH0pO1xuXG4gIHB1YmxpYyBtZXNzYWdlczogQ3VzdG9tTWVzc2FnZXMgPSB7XG4gICAgXCJuYW1lLm1pbkxlbmd0aFwiOiBcIkxhIHRhaWxsZSBtaW5pbWFsZSBlc3QgZGUgMyBjYXJhY3TDqHJlc1wiLFxuICAgIFwiZW1haWwuZW1haWxcIjogXCJMZSBmb3JtYXQgZGUgdm90cmUgZW1haWwgZXN0IGluY29ycmVjdFwiLFxuICAgIFwiZW1haWwudW5pcXVlXCI6IFwiQ2UgZW1haWwgZXhpc3RlIGTDqWphXCIsXG4gICAgXCJuYW1lLnVuaXF1ZVwiOiBcIkNlIG5vbSBleGlzdGUgZMOpamFcIixcbiAgfTtcbn1cbiJdfQ==